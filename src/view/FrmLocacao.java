/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package view;

import controller.ClienteDAO;
import controller.VeiculoDAO;
import enums.Categoria;
import enums.Marca;
import java.awt.event.KeyEvent;
import java.text.DecimalFormat;
import java.text.NumberFormat;
import java.util.List;
import java.util.Locale;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import model.Cliente;
import model.Veiculo;

/**
 *
 * @author Lucas
 */
public class FrmLocacao extends javax.swing.JFrame {

  /**
   * Creates new form FrmLocacao
   */
  public FrmLocacao() {
    initComponents();
  }

  /**
   * This method is called from within the constructor to initialize the form.
   * WARNING: Do NOT modify this code. The content of this method is always
   * regenerated by the Form Editor.
   */
  @SuppressWarnings("unchecked")
  // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
  private void initComponents() {

    jPanel1 = new javax.swing.JPanel();
    jLabel1 = new javax.swing.JLabel();
    jPanel2 = new javax.swing.JPanel();
    jLabel14 = new javax.swing.JLabel();
    txtcpf = new javax.swing.JFormattedTextField();
    txtnome = new javax.swing.JTextField();
    jLabel3 = new javax.swing.JLabel();
    jLabel16 = new javax.swing.JLabel();
    txtsobrenome = new javax.swing.JTextField();
    btncpf = new javax.swing.JButton();
    jScrollPane2 = new javax.swing.JScrollPane();
    tabelaClientes = new javax.swing.JTable();
    btnnome = new javax.swing.JButton();
    btnsobrenome = new javax.swing.JButton();
    jPanel5 = new javax.swing.JPanel();
    jLabel19 = new javax.swing.JLabel();
    txtcpf4 = new javax.swing.JFormattedTextField();
    txtcpf3 = new javax.swing.JFormattedTextField();
    jLabel18 = new javax.swing.JLabel();
    jPanel3 = new javax.swing.JPanel();
    jLabel5 = new javax.swing.JLabel();
    cbmarca = new javax.swing.JComboBox<>();
    btnmarca = new javax.swing.JButton();
    jLabel4 = new javax.swing.JLabel();
    cbcategoria = new javax.swing.JComboBox<>();
    btncategoria = new javax.swing.JButton();
    btntipo = new javax.swing.JButton();
    cbtipo = new javax.swing.JComboBox<>();
    jLabel6 = new javax.swing.JLabel();
    jScrollPane1 = new javax.swing.JScrollPane();
    tabelaVeiculos = new javax.swing.JTable();
    btnlocar = new javax.swing.JButton();
    jPanel4 = new javax.swing.JPanel();
    jLabel7 = new javax.swing.JLabel();
    txtnome1 = new javax.swing.JTextField();
    btnlocar1 = new javax.swing.JButton();

    setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
    setTitle("Locação de Veículo");

    jPanel1.setBackground(new java.awt.Color(0, 102, 204));

    jLabel1.setFont(new java.awt.Font("Segoe UI", 0, 28)); // NOI18N
    jLabel1.setForeground(new java.awt.Color(255, 255, 255));
    jLabel1.setText("Locação um Veículo");

    javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
    jPanel1.setLayout(jPanel1Layout);
    jPanel1Layout.setHorizontalGroup(
      jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(jPanel1Layout.createSequentialGroup()
        .addGap(36, 36, 36)
        .addComponent(jLabel1)
        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
    );
    jPanel1Layout.setVerticalGroup(
      jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(jPanel1Layout.createSequentialGroup()
        .addGap(36, 36, 36)
        .addComponent(jLabel1)
        .addContainerGap(48, Short.MAX_VALUE))
    );

    jPanel2.setBackground(new java.awt.Color(255, 255, 255));
    jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder("Dados do Cliente"));

    jLabel14.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    jLabel14.setText("CPF:");

    try {
      txtcpf.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("###.###.###-##")));
    } catch (java.text.ParseException ex) {
      ex.printStackTrace();
    }
    txtcpf.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    txtcpf.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        txtcpfActionPerformed(evt);
      }
    });
    txtcpf.addKeyListener(new java.awt.event.KeyAdapter() {
      public void keyPressed(java.awt.event.KeyEvent evt) {
        txtcpfKeyPressed(evt);
      }
    });

    txtnome.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N

    jLabel3.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    jLabel3.setText("Nome:");

    jLabel16.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    jLabel16.setText("Sobrenome:");

    txtsobrenome.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N

    btncpf.setBackground(new java.awt.Color(240, 240, 240));
    btncpf.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    btncpf.setText("Pesquisar");
    btncpf.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btncpfActionPerformed(evt);
      }
    });

    tabelaClientes.setBackground(new java.awt.Color(240, 240, 240));
    tabelaClientes.setModel(new javax.swing.table.DefaultTableModel(
      new Object [][] {

      },
      new String [] {
        "Código", "Nome", "Sobrenome", "CPF", "E-mail"
      }
    ));
    tabelaClientes.addMouseListener(new java.awt.event.MouseAdapter() {
      public void mouseClicked(java.awt.event.MouseEvent evt) {
        tabelaClientesMouseClicked(evt);
      }
    });
    jScrollPane2.setViewportView(tabelaClientes);

    btnnome.setBackground(new java.awt.Color(240, 240, 240));
    btnnome.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    btnnome.setText("Filtrar");
    btnnome.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btnnomeActionPerformed(evt);
      }
    });

    btnsobrenome.setBackground(new java.awt.Color(240, 240, 240));
    btnsobrenome.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    btnsobrenome.setText("Filtrar");
    btnsobrenome.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btnsobrenomeActionPerformed(evt);
      }
    });

    jPanel5.setBackground(new java.awt.Color(255, 255, 255));
    jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder("Dados da Locação"));

    jLabel19.setFont(new java.awt.Font("Segoe UI", 0, 18)); // NOI18N
    jLabel19.setText("Dias de Locação:");

    txtcpf4.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(java.text.NumberFormat.getIntegerInstance())));
    txtcpf4.setFont(new java.awt.Font("Segoe UI", 0, 18)); // NOI18N

    txtcpf3.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.DateFormatter(java.text.DateFormat.getDateInstance(java.text.DateFormat.SHORT))));
    txtcpf3.setFont(new java.awt.Font("Segoe UI", 0, 18)); // NOI18N

    jLabel18.setFont(new java.awt.Font("Segoe UI", 0, 18)); // NOI18N
    jLabel18.setText("Data da Locação:");

    javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
    jPanel5.setLayout(jPanel5Layout);
    jPanel5Layout.setHorizontalGroup(
      jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(jPanel5Layout.createSequentialGroup()
        .addContainerGap()
        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
          .addComponent(jLabel19)
          .addComponent(jLabel18))
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
          .addComponent(txtcpf3, javax.swing.GroupLayout.DEFAULT_SIZE, 90, Short.MAX_VALUE)
          .addComponent(txtcpf4))
        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
    );
    jPanel5Layout.setVerticalGroup(
      jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(jLabel18)
          .addComponent(txtcpf3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        .addGap(18, 18, 18)
        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(jLabel19)
          .addComponent(txtcpf4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        .addGap(57, 57, 57))
    );

    javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
    jPanel2.setLayout(jPanel2Layout);
    jPanel2Layout.setHorizontalGroup(
      jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(jPanel2Layout.createSequentialGroup()
        .addContainerGap()
        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
          .addGroup(jPanel2Layout.createSequentialGroup()
            .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 388, javax.swing.GroupLayout.PREFERRED_SIZE)
            .addGap(0, 3, Short.MAX_VALUE))
          .addGroup(jPanel2Layout.createSequentialGroup()
            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
              .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel2Layout.createSequentialGroup()
                .addComponent(jLabel16)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(txtsobrenome))
              .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel2Layout.createSequentialGroup()
                .addGap(33, 33, 33)
                .addComponent(jLabel3)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(txtnome, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)))
            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
              .addComponent(btnnome)
              .addComponent(btnsobrenome))
            .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
      .addGroup(jPanel2Layout.createSequentialGroup()
        .addGap(53, 53, 53)
        .addComponent(jLabel14)
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
        .addComponent(txtcpf, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
        .addComponent(btncpf)
        .addGap(0, 0, Short.MAX_VALUE))
      .addGroup(jPanel2Layout.createSequentialGroup()
        .addContainerGap()
        .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        .addContainerGap())
    );
    jPanel2Layout.setVerticalGroup(
      jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(jPanel2Layout.createSequentialGroup()
        .addGap(17, 17, 17)
        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(txtnome, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
          .addComponent(jLabel3)
          .addComponent(btnnome, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(txtsobrenome, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
          .addComponent(jLabel16)
          .addComponent(btnsobrenome, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(jLabel14)
          .addComponent(txtcpf, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
          .addComponent(btncpf, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
        .addGap(18, 18, 18)
        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 304, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addGap(18, 18, 18)
        .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        .addContainerGap())
    );

    jPanel3.setBackground(new java.awt.Color(255, 255, 255));
    jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder("Dados do Veículo"));

    jLabel5.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    jLabel5.setText("Marca:");

    cbmarca.addAncestorListener(new javax.swing.event.AncestorListener() {
      public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
        cbmarcaAncestorAdded(evt);
      }
      public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
      }
      public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
      }
    });
    cbmarca.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        cbmarcaActionPerformed(evt);
      }
    });

    btnmarca.setBackground(new java.awt.Color(240, 240, 240));
    btnmarca.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    btnmarca.setText("Filtrar por Marca");
    btnmarca.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btnmarcaActionPerformed(evt);
      }
    });

    jLabel4.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    jLabel4.setText("Categoria:");

    cbcategoria.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    cbcategoria.addAncestorListener(new javax.swing.event.AncestorListener() {
      public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
        cbcategoriaAncestorAdded(evt);
      }
      public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
      }
      public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
      }
    });
    cbcategoria.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        cbcategoriaActionPerformed(evt);
      }
    });

    btncategoria.setBackground(new java.awt.Color(240, 240, 240));
    btncategoria.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    btncategoria.setText("Filtrar por Categoria");
    btncategoria.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btncategoriaActionPerformed(evt);
      }
    });

    btntipo.setBackground(new java.awt.Color(240, 240, 240));
    btntipo.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    btntipo.setText("Filtrar por Tipo");
    btntipo.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btntipoActionPerformed(evt);
      }
    });

    cbtipo.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    cbtipo.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Automóvel", "Motocicleta", "Van" }));
    cbtipo.setSelectedIndex(-1);
    cbtipo.setSelectedItem(null);
    cbtipo.addItemListener(new java.awt.event.ItemListener() {
      public void itemStateChanged(java.awt.event.ItemEvent evt) {
        cbtipoItemStateChanged(evt);
      }
    });
    cbtipo.addAncestorListener(new javax.swing.event.AncestorListener() {
      public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
        cbtipoAncestorAdded(evt);
      }
      public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
      }
      public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
      }
    });
    cbtipo.addMouseListener(new java.awt.event.MouseAdapter() {
      public void mouseClicked(java.awt.event.MouseEvent evt) {
        cbtipoMouseClicked(evt);
      }
    });
    cbtipo.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        cbtipoActionPerformed(evt);
      }
    });

    jLabel6.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    jLabel6.setText("Tipo do Veículo");

    tabelaVeiculos.setBackground(new java.awt.Color(240, 240, 240));
    tabelaVeiculos.setModel(new javax.swing.table.DefaultTableModel(
      new Object [][] {

      },
      new String [] {
        "Código", "Marca", "Modelo", "Ano", "Placa", "Preço Diária", "Estado"
      }
    ) {
      boolean[] canEdit = new boolean [] {
        true, false, false, false, true, true, true
      };

      public boolean isCellEditable(int rowIndex, int columnIndex) {
        return canEdit [columnIndex];
      }
    });
    tabelaVeiculos.addMouseListener(new java.awt.event.MouseAdapter() {
      public void mouseClicked(java.awt.event.MouseEvent evt) {
        tabelaVeiculosMouseClicked(evt);
      }
    });
    jScrollPane1.setViewportView(tabelaVeiculos);

    btnlocar.setBackground(new java.awt.Color(240, 240, 240));
    btnlocar.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    btnlocar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/remove_icon.png"))); // NOI18N
    btnlocar.setText("CANCELAR");
    btnlocar.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btnlocarActionPerformed(evt);
      }
    });

    jPanel4.setBackground(new java.awt.Color(255, 255, 255));
    jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder("Valor total de locação"));

    jLabel7.setFont(new java.awt.Font("Segoe UI", 0, 18)); // NOI18N
    jLabel7.setText("TOTAL DA LOCAÇÃO:");

    txtnome1.setFont(new java.awt.Font("Segoe UI", 0, 18)); // NOI18N

    javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
    jPanel4.setLayout(jPanel4Layout);
    jPanel4Layout.setHorizontalGroup(
      jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(jPanel4Layout.createSequentialGroup()
        .addGap(14, 14, 14)
        .addComponent(jLabel7)
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
        .addComponent(txtnome1, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
    );
    jPanel4Layout.setVerticalGroup(
      jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(jPanel4Layout.createSequentialGroup()
        .addGap(28, 28, 28)
        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(txtnome1, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
          .addComponent(jLabel7))
        .addContainerGap(42, Short.MAX_VALUE))
    );

    btnlocar1.setBackground(new java.awt.Color(240, 240, 240));
    btnlocar1.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
    btnlocar1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/car_icon.png"))); // NOI18N
    btnlocar1.setText("LOCAR VEÍCULO");
    btnlocar1.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btnlocar1ActionPerformed(evt);
      }
    });

    javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
    jPanel3.setLayout(jPanel3Layout);
    jPanel3Layout.setHorizontalGroup(
      jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(jPanel3Layout.createSequentialGroup()
        .addContainerGap()
        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
          .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
          .addGroup(jPanel3Layout.createSequentialGroup()
            .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
              .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.LEADING)
              .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel3Layout.createSequentialGroup()
                  .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                      .addComponent(jLabel5)
                      .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                      .addComponent(cbmarca, javax.swing.GroupLayout.PREFERRED_SIZE, 234, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                      .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addComponent(jLabel6)
                        .addComponent(jLabel4))
                      .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                      .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(cbtipo, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(cbcategoria, javax.swing.GroupLayout.PREFERRED_SIZE, 234, javax.swing.GroupLayout.PREFERRED_SIZE))))
                  .addGap(18, 18, 18)
                  .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(btntipo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btncategoria, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnmarca, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addGroup(jPanel3Layout.createSequentialGroup()
                  .addGap(43, 43, 43)
                  .addComponent(btnlocar1, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                  .addGap(39, 39, 39)
                  .addComponent(btnlocar, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))))
            .addGap(0, 0, Short.MAX_VALUE)))
        .addContainerGap())
    );
    jPanel3Layout.setVerticalGroup(
      jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(jPanel3Layout.createSequentialGroup()
        .addContainerGap()
        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(jLabel6)
          .addComponent(cbtipo, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
          .addComponent(btntipo, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(cbcategoria, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
          .addComponent(jLabel4)
          .addComponent(btncategoria, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(jLabel5)
          .addComponent(cbmarca, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
          .addComponent(btnmarca, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
        .addGap(18, 18, 18)
        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 310, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addGap(18, 18, 18)
        .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(btnlocar, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE)
          .addComponent(btnlocar1, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
        .addContainerGap(23, Short.MAX_VALUE))
    );

    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
    getContentPane().setLayout(layout);
    layout.setHorizontalGroup(
      layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
      .addGroup(layout.createSequentialGroup()
        .addContainerGap()
        .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
        .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addContainerGap(37, Short.MAX_VALUE))
    );
    layout.setVerticalGroup(
      layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(layout.createSequentialGroup()
        .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addGap(18, 18, 18)
        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
          .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
          .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        .addContainerGap(67, Short.MAX_VALUE))
    );

    pack();
    setLocationRelativeTo(null);
  }// </editor-fold>//GEN-END:initComponents

  private void cbmarcaAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_cbmarcaAncestorAdded

    cbmarca.removeAllItems();

    for (Marca marca : Marca.values()) {
      cbmarca.addItem(marca.toString());
    }
    cbmarca.setSelectedItem(null);
  }//GEN-LAST:event_cbmarcaAncestorAdded

  private void cbmarcaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbmarcaActionPerformed
    // TODO add your handling code here:
  }//GEN-LAST:event_cbmarcaActionPerformed

  private void btnmarcaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnmarcaActionPerformed
    //Filtrar por Marca
    String coluna = "marca";
    String marca = cbmarca.getSelectedItem().toString();

    NumberFormat nf = NumberFormat.getNumberInstance(Locale.getDefault());
    DecimalFormat df = (DecimalFormat) nf;
    df.applyPattern("#,##0.00");

    VeiculoDAO dao = new VeiculoDAO();
    List<Veiculo> veiculos = dao.filtrarVeiculos(coluna, marca);
    tabelaVeiculos.setVisible(true);
    DefaultTableModel dados = (DefaultTableModel) tabelaVeiculos.getModel();
    dados.setNumRows(0);

    for (Veiculo v : veiculos) {
      Double valorVenda = v.getValorParaVenda();
      dados.addRow(new Object[]{
        v.getId(),
        v.getMarca(),
        v.getModelo(),
        v.getAno(),
        v.getPlaca(),
        df.format(valorVenda),
        v.getEstado().getDescricao(),});
    }

    cbmarca.setSelectedItem(null);
  }//GEN-LAST:event_btnmarcaActionPerformed

  private void cbcategoriaAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_cbcategoriaAncestorAdded

    cbcategoria.removeAllItems();

    for (Categoria categoria : Categoria.values()) {
      cbcategoria.addItem(categoria.getDescricao());
    }
    cbcategoria.setSelectedItem(null);
  }//GEN-LAST:event_cbcategoriaAncestorAdded

  private void cbcategoriaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbcategoriaActionPerformed
    // TODO add your handling code here:
  }//GEN-LAST:event_cbcategoriaActionPerformed

  private void btncategoriaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btncategoriaActionPerformed
    // Filtrar por Categoria
    String coluna = "categoria";
    String categoria = cbcategoria.getSelectedItem().toString();

    NumberFormat nf = NumberFormat.getNumberInstance(Locale.getDefault());
    DecimalFormat df = (DecimalFormat) nf;
    df.applyPattern("#,##0.00");

    VeiculoDAO dao = new VeiculoDAO();
    List<Veiculo> veiculos = dao.filtrarVeiculos(coluna, categoria);
    tabelaVeiculos.setVisible(true);
    DefaultTableModel dados = (DefaultTableModel) tabelaVeiculos.getModel();
    dados.setNumRows(0);

    for (Veiculo v : veiculos) {
      Double valorVenda = v.getValorParaVenda();
      dados.addRow(new Object[]{
        v.getId(),
        v.getMarca(),
        v.getModelo(),
        v.getAno(),
        v.getPlaca(),
        df.format(valorVenda),
        v.getEstado().getDescricao(),});
    }

    cbcategoria.setSelectedItem(null);

  }//GEN-LAST:event_btncategoriaActionPerformed

  private void btntipoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btntipoActionPerformed
    // Filtrar por tipo
    String coluna = "tipo_veiculo";
    String tipo = cbtipo.getSelectedItem().toString();

    NumberFormat nf = NumberFormat.getNumberInstance(Locale.getDefault());
    DecimalFormat df = (DecimalFormat) nf;
    df.applyPattern("#,##0.00");

    VeiculoDAO dao = new VeiculoDAO();
    List<Veiculo> veiculos = dao.filtrarVeiculos(coluna, tipo);
    tabelaVeiculos.setVisible(true);
    DefaultTableModel dados = (DefaultTableModel) tabelaVeiculos.getModel();
    dados.setNumRows(0);

    for (Veiculo v : veiculos) {
      Double valorVenda = v.getValorParaVenda();
      dados.addRow(new Object[]{
        v.getId(),
        v.getMarca(),
        v.getModelo(),
        v.getAno(),
        v.getPlaca(),
        df.format(valorVenda),
        v.getEstado().getDescricao(),});
    }

    cbtipo.setSelectedItem(null);

  }//GEN-LAST:event_btntipoActionPerformed

  private void cbtipoItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_cbtipoItemStateChanged
    // TODO add your handling code here:
  }//GEN-LAST:event_cbtipoItemStateChanged

  private void cbtipoAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_cbtipoAncestorAdded
    // TODO add your handling code here:
  }//GEN-LAST:event_cbtipoAncestorAdded

  private void cbtipoMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cbtipoMouseClicked
    // TODO add your handling code here:
  }//GEN-LAST:event_cbtipoMouseClicked

  private void cbtipoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbtipoActionPerformed
    // TODO add your handling code here:
  }//GEN-LAST:event_cbtipoActionPerformed

  private void tabelaVeiculosMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaVeiculosMouseClicked

  }//GEN-LAST:event_tabelaVeiculosMouseClicked

  private void btncpfActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btncpfActionPerformed
    // Pesquisa por CPF
    String cpf = txtcpf.getText();
    Cliente cliente = new Cliente();
    ClienteDAO dao = new ClienteDAO();

    cliente = dao.buscarClientePorCpf(cpf);

    if(cliente.getCpf() != null) {

      txtnome.setText(cliente.getNome());
      txtsobrenome.setText(cliente.getSobrenome());
      txtcpf.setText(cliente.getCpf());
    }

    else {
      JOptionPane.showMessageDialog(null, "Cliente não encontrado!");
    }

  }//GEN-LAST:event_btncpfActionPerformed

  private void btnlocarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnlocarActionPerformed
    // vender um veículo
    int rowIndex = tabelaVeiculos.getSelectedRow();
    if (rowIndex != -1) {

      DefaultTableModel modelVeiculo = (DefaultTableModel) tabelaVeiculos.getModel();
      DefaultTableModel modelCliente = (DefaultTableModel) tabelaClientes.getModel();

      int idVeiculo = Integer.parseInt(modelVeiculo.getValueAt(rowIndex, 0).toString());
      int idCliente = Integer.parseInt(modelCliente.getValueAt(rowIndex, 0).toString());

      VeiculoDAO dao = new VeiculoDAO();
      dao.venderVeiculo(idVeiculo);
      tabelaVeiculos.setVisible(false);

    } else {
      JOptionPane.showMessageDialog(null, "Nenhuma linha de cliente ou veículo selecionada");
    }
  }//GEN-LAST:event_btnlocarActionPerformed

  private void txtcpfKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtcpfKeyPressed
    
    if (evt.getKeyCode () == KeyEvent.VK_ENTER) {
      String cpf = txtcpf.getText();
      Cliente cliente = new Cliente();
      ClienteDAO dao = new ClienteDAO();

      cliente = dao.buscarClientePorCpf(cpf);

      if(cliente.getCpf() != null) {

        txtnome.setText(cliente.getNome());
        txtsobrenome.setText(cliente.getSobrenome());
        txtcpf.setText(cliente.getCpf());
    }

    else {
      JOptionPane.showMessageDialog(null, "Cliente não encontrado!");
    }
    }
    
  }//GEN-LAST:event_txtcpfKeyPressed

  private void txtcpfActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtcpfActionPerformed
    // TODO add your handling code here:
  }//GEN-LAST:event_txtcpfActionPerformed

  private void tabelaClientesMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaClientesMouseClicked
    // TODO add your handling code here:

  }//GEN-LAST:event_tabelaClientesMouseClicked

  private void btnnomeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnnomeActionPerformed
    // TODO add your handling code here:
  }//GEN-LAST:event_btnnomeActionPerformed

  private void btnsobrenomeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnsobrenomeActionPerformed
    // TODO add your handling code here:
  }//GEN-LAST:event_btnsobrenomeActionPerformed

  private void btnlocar1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnlocar1ActionPerformed
    // TODO add your handling code here:
  }//GEN-LAST:event_btnlocar1ActionPerformed

  /**
   * @param args the command line arguments
   */
  public static void main(String args[]) {
    /* Set the Nimbus look and feel */
    //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
    /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
     */
    try {
      for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
        if ("Nimbus".equals(info.getName())) {
          javax.swing.UIManager.setLookAndFeel(info.getClassName());
          break;
        }
      }
    } catch (ClassNotFoundException ex) {
      java.util.logging.Logger.getLogger(FrmLocacao.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    } catch (InstantiationException ex) {
      java.util.logging.Logger.getLogger(FrmLocacao.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    } catch (IllegalAccessException ex) {
      java.util.logging.Logger.getLogger(FrmLocacao.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    } catch (javax.swing.UnsupportedLookAndFeelException ex) {
      java.util.logging.Logger.getLogger(FrmLocacao.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    }
    //</editor-fold>

    /* Create and display the form */
    java.awt.EventQueue.invokeLater(new Runnable() {
      public void run() {
        new FrmLocacao().setVisible(true);
      }
    });
  }

  // Variables declaration - do not modify//GEN-BEGIN:variables
  private javax.swing.JButton btncategoria;
  private javax.swing.JButton btncpf;
  private javax.swing.JButton btnlocar;
  private javax.swing.JButton btnlocar1;
  private javax.swing.JButton btnmarca;
  private javax.swing.JButton btnnome;
  private javax.swing.JButton btnsobrenome;
  private javax.swing.JButton btntipo;
  private javax.swing.JComboBox<String> cbcategoria;
  private javax.swing.JComboBox<String> cbmarca;
  private javax.swing.JComboBox<String> cbtipo;
  private javax.swing.JLabel jLabel1;
  private javax.swing.JLabel jLabel14;
  private javax.swing.JLabel jLabel16;
  private javax.swing.JLabel jLabel18;
  private javax.swing.JLabel jLabel19;
  private javax.swing.JLabel jLabel3;
  private javax.swing.JLabel jLabel4;
  private javax.swing.JLabel jLabel5;
  private javax.swing.JLabel jLabel6;
  private javax.swing.JLabel jLabel7;
  private javax.swing.JPanel jPanel1;
  private javax.swing.JPanel jPanel2;
  private javax.swing.JPanel jPanel3;
  private javax.swing.JPanel jPanel4;
  private javax.swing.JPanel jPanel5;
  private javax.swing.JScrollPane jScrollPane1;
  private javax.swing.JScrollPane jScrollPane2;
  private javax.swing.JTable tabelaClientes;
  private javax.swing.JTable tabelaVeiculos;
  private javax.swing.JFormattedTextField txtcpf;
  private javax.swing.JFormattedTextField txtcpf3;
  private javax.swing.JFormattedTextField txtcpf4;
  private javax.swing.JTextField txtnome;
  private javax.swing.JTextField txtnome1;
  private javax.swing.JTextField txtsobrenome;
  // End of variables declaration//GEN-END:variables
}
